{
  "player_start": "Luminaris",
  "player": {
    "hp": 20,
    "max_hp": 20,
    "attack_power": 3,
    "level": 1,
    "xp": 0
  },

  "locations": {
    "Luminaris": {
      "description": "The weakened capital of Eryndral. Merchants whisper of shadows stirring beyond the gates.",
      "exits": {
        "north": "Shademire Woods",
        "down": "Crumbling Catacombs"
      },
      "items": [],
      "monsters": [],
      "npcs": ["Guard Captain", "Wandering Scholar", "Temple Cleric"]
    },
    "Shademire Woods": {
      "description": "Twisted trees block out the sun. The air feels heavy, and faint eyes glimmer in the dark. Strange runes have begun to appear on trunks.",
      "exits": {
        "south": "Luminaris",
        "east": "Sunken Swamp (Edge)"
      },
      "items": ["Old Scroll"],
      "monsters": ["Shadow-Touched Goblin", "Shadow-Touched Goblin", "Shadow-Touched Goblin", "Cultist", "Cultist Lieutenant"],
      "npcs": []
    },
    "Crumbling Catacombs": {
      "description": "Ancient stone tunnels filled with stale air. Bones crunch beneath your feet. A faintly glowing font offers a moment of respite. A stair leads deeper into the earth.",
      "exits": {
        "up": "Luminaris",
        "down": "Crumbling Catacombs - Depths"
      },
      "items": ["Rusted Sword", "Leather Armor"],
      "monsters": ["Skeleton"],
      "npcs": [],
      "healing_station": { "type": "partial", "amount": 10, "uses": 1 }
    },
    "Crumbling Catacombs - Depths": {
      "description": "Deeper chambers of the catacombs. The air is colder and the bones are fresher — something undead stirs here.",
      "exits": {
        "up": "Crumbling Catacombs"
      },
      "items": [],
      "monsters": ["Skeleton", "Skeleton", "Undead Wight"],
      "npcs": []
    },
    "Sunken Swamp (Edge)": {
      "description": "A soggy, reeking fringe of the Sunken Swamp. The ground squelches underfoot and strange lights drift between the reeds.",
      "exits": {
        "west": "Shademire Woods",
        "in": "Sunken Swamp"
      },
      "items": [],
      "monsters": [],
      "npcs": []
    },
    "Sunken Swamp": {
      "description": "A corrupted marsh where the soil drinks the light. Twisted plants and bog pools hide creatures and ruins of old rituals.",
      "exits": {
        "out": "Sunken Swamp (Edge)"
      },
      "items": ["Captured Letter"],
      "monsters": ["Bog Horror", "Corrupted Bog Beast"],
      "npcs": []
    }
  },

  "items": {
    "Rusted Sword": {
      "type": "Weapon",
      "description": "An old blade, chipped but still sharp enough to cut.",
      "damage": 3
    },
    "Leather Armor": {
      "type": "Armor",
      "description": "Worn but serviceable armor, offers slight protection.",
      "defense": 1
    },
    "Healing Potion": {
      "type": "Potion",
      "description": "A small vial that restores 10 HP.",
      "heal_amount": 10
    },
    "Goblin Ear": {
      "type": "Item",
      "description": "A gruesome trophy."
    },
    "Bone Fragment": {
      "type": "Item",
      "description": "A piece of a skeleton."
    },
    "Cultist Note": {
      "type": "Readable",
      "description": "A folded note with inked runes. It mentions a 'Hollow Spire' and strange rituals.",
      "lore_text": "The cult gathers at the Hollow Spire. They speak of a void beyond the Veil and the need to 'unmake the throne of light.'"
    },
    "Old Scroll": {
      "type": "Readable",
      "description": "A brittle scroll, stained with age. Its script is faded but legible.",
      "lore_text": "This scroll details the Celestial Veil's wards and mentions a scholar who once mapped weaknesses in the barrier. A name repeated in the margins: 'Elenya.'"
    },
    "Captured Letter": {
      "type": "Readable",
      "description": "A blood-smudged letter found in the swamp. The handwriting is hurried and fearful.",
      "lore_text": "To anyone who finds this—Elenya has been taken. They dragged her toward the Hollow Spire. Pray the Veil holds..."
    },
    "Lore Fragment": {
      "type": "Item",
      "description": "A torn scrap of a document mentioning the Celestial Veil.",
      "notes": "Collectible lore used to piece together Elenya's story."
    }
  },

  "monsters": {
    "Shadow-Touched Goblin": {
      "hp": 10,
      "attack_power": 2,
      "loot": ["Goblin Ear"],
      "xp": 12,
      "notes": "A goblin warped by shadow; tied to Malveth's corruption.",
      "drop_table": [{"item": "Healing Potion", "chance": 0.03}]
    },
    "Goblin": {
      "hp": 8,
      "attack_power": 2,
      "loot": ["Goblin Ear"],
      "xp": 8,
      "notes": "A baseline goblin (legacy). Consider replacing with Shadow-Touched Goblin in later content."
    },
    "Skeleton": {
      "hp": 12,
      "attack_power": 3,
      "loot": ["Bone Fragment"],
      "xp": 15
    },
    "Undead Wight": {
      "hp": 18,
      "attack_power": 4,
      "loot": ["Bone Fragment", "Lore Fragment"],
      "xp": 30,
      "notes": "A stronger undead found in the catacomb depths. Drops lore fragments occasionally."
    },
    "Cultist": {
      "hp": 9,
      "attack_power": 3,
      "loot": ["Cultist Note"],
      "xp": 18,
      "notes": "A minor cultist who serves Malveth's followers; drops a note that unlocks lore.",
      "drop_table": [{"item": "Healing Potion", "chance": 0.10}]
    },
    "Cultist Lieutenant": {
      "hp": 22,
      "attack_power": 5,
      "loot": ["Cultist Note", "Lore Fragment"],
      "xp": 60,
      "notes": "A dangerous cult leader who coordinates rituals. Defeating them is a story quest."
    },
    "Bog Horror": {
      "hp": 14,
      "attack_power": 3,
      "loot": ["Lore Fragment"],
      "xp": 25,
      "notes": "A corrupted swamp creature, bound to the Sunken Swamp's rot.",
      "drop_table": [{"item": "Healing Potion", "chance": 0.12}]
    },
    "Corrupted Bog Beast": {
      "hp": 20,
      "attack_power": 5,
      "loot": ["Lore Fragment"],
      "xp": 40,
      "notes": "A tougher signature monster of the Sunken Swamp."
    }
  },

  "npcs": {
    "Guard Captain": {
      "dialogue": {
        "default": "Be careful out there, adventurer.",
        "quest_offer": {
          "Clear the Woods": "Shadows are stirring in Shademire Woods. Goblins have been seen twisting under a foul influence — we need someone to put them down.",
          "Clear the Catacombs": "If you can clear the catacombs of undead, the roads will be safer. Travelers fear to pass near those tombs."
        },
        "quest_active": {
          "Clear the Woods": "Be careful — these are not the goblins you knew. Something darker drives them now.",
          "Clear the Catacombs": "The catacombs are dangerous. Bones walk where they should rest. Stay sharp, adventurer."
        },
        "after_all_quests": "You’ve done well. But there’s worse brewing beneath the capital…"
      },
      "quests": ["Clear the Woods", "Clear the Catacombs"]
    },
    "Wandering Scholar": {
      "dialogue": {
        "default": "The secrets of the past are waiting to be uncovered.",
        "quest_offer": {
          "Investigate the Hollow Clues": "I study the old wards of the Veil, but my knowledge is incomplete. There are fragments scattered in the field — scrolls left to rot, notes stolen by cultists, shards of lore clinging to restless dead. Alone, I cannot brave those places. Will you recover them for me?",
          "Defeat the Cultist Lieutenant": "The cult’s writings point to a leader in the woods — a lieutenant gathering strength for something greater. If he falls, their plans falter. Will you strike him down?"
        },
        "quest_active": {
          "Investigate the Hollow Clues": "The fragments are out there. Be diligent.",
          "Defeat the Cultist Lieutenant": "The lieutenant is a formidable foe. Be prepared."
        },
        "after_all_quests": "The lieutenant is no more. But if there was one commander, surely there are others — and a master behind them."
      },
      "quests": ["Investigate the Hollow Clues", "Defeat the Cultist Lieutenant"]
    },
    "Swamp Hermit": {
      "dialogue": {
        "default": "The swamp has many secrets. Be wary.",
        "quest_offer": {
          "Investigate the Sunken Swamp": "You smell of battle. The cult stirs not just in the woods — the swamp itself festers. I’ve seen lights at night and heard chanting in the muck. If you would know the truth, bring me what the swamp hides: letters, fragments, anything."
        },
        "quest_active": {
          "Investigate the Sunken Swamp": "The swamp hides many secrets still. Be wary, traveler."
        },
        "after_all_quests": "This letter… Elenya has been taken. The corruption spreads fast. If she is bound to the Veil, then the kingdom’s end is closer than you think."
      },
      "quests": ["Investigate the Sunken Swamp"]
    },
    "Temple Cleric": {
      "dialogue": [
        "May the light mend you, traveler.",
        "I can restore your wounds, for free or coin depending on your need."
      ],
      "services": {
        "heal": {
          "cost": 0,
          "type": "full"
        }
      },
      "quests": []
    }
  },

  "quests": {
    "Clear the Woods": {
      "description": "Defeat 3 Shadow-Touched Goblins in Shademire Woods.",
      "lead_in": "Shadows are stirring in Shademire Woods. Goblins have been seen twisting under a foul influence — we need someone to put them down.",
      "start": { "type": "npc", "ref": "Guard Captain" },
      "prerequisite": null,
      "goal": {
        "type": "kill",
        "target": "Shadow-Touched Goblin",
        "count": 3
      },
      "completion": "auto",
      "reward": { "xp": 50, "item": "Healing Potion" },
      "on_accept": { "item": "Healing Potion" }
    },

    "Clear the Catacombs": {
      "description": "Eliminate undead in the Crumbling Catacombs and its Depths.",
      "lead_in": "If you can clear the catacombs of undead, the roads will be safer. Travelers fear to pass near those tombs.",
      "start": { "type": "npc", "ref": "Guard Captain" },
      "prerequisite": "Clear the Woods",
      "goal": {
        "type": "composite",
        "requirements": [
          { "type": "kill", "target": "Skeleton", "count": 3 },
          { "type": "kill", "target": "Undead Wight", "count": 1 }
        ]
      },
      "completion": "auto",
      "reward": { "xp": 70, "item": "Leather Armor" }
    },

    "Investigate the Hollow Clues": {
      "description": "Recover the Old Scroll, a Cultist Note, and a Lore Fragment for the Wandering Scholar.",
      "lead_in": "I study the old wards of the Veil, but my knowledge is incomplete. There are fragments scattered in the field — scrolls left to rot, notes stolen by cultists, shards of lore clinging to restless dead. Alone, I cannot brave those places. Will you recover them for me?",
      "start": { "type": "npc", "ref": "Wandering Scholar" },
      "prerequisite": "Clear the Catacombs",
      "goal": {
        "type": "collect_all",
        "targets": ["Old Scroll", "Cultist Note", "Lore Fragment"],
        "count": 3
      },
      "completion": "talk_to_giver",
      "reward": { "xp": 80, "item": null }
    },

    "Defeat the Cultist Lieutenant": {
      "description": "Find and defeat the Cultist Lieutenant in Shademire Woods to disrupt the cult's operations.",
      "lead_in": "The cult's writings point to a leader in the woods — a lieutenant gathering strength for something greater. If he falls, their plans falter. Will you strike him down?",
      "start": { "type": "npc", "ref": "Wandering Scholar" },
      "prerequisite": "Investigate the Hollow Clues",
      "goal": {
        "type": "kill",
        "target": "Cultist Lieutenant",
        "count": 1
      },
      "completion": "auto",
      "reward": { "xp": 120, "item": "Lore Fragment" }
    },

    "Investigate the Sunken Swamp": {
      "description": "Explore the Sunken Swamp and recover evidence of ritual corruption for the Swamp Hermit.",
      "lead_in": "You smell of battle. The cult stirs not just in the woods — the swamp itself festers. I’ve seen lights at night and heard chanting in the muck. If you would know the truth, bring me what the swamp hides: letters, fragments, anything.",
      "start": { "type": "npc", "ref": "Swamp Hermit" },
      "prerequisite": "Defeat the Cultist Lieutenant",
      "goal": {
        "type": "collect_all",
        "targets": ["Captured Letter", "Lore Fragment"],
        "count": 1
      },
      "completion": "talk_to_giver",
      "reward": { "xp": 90, "item": null }
    }
  }
}
